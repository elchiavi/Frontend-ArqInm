<div class="section-header">
    <div class="action">
        <div class="row mb-4">
            <div class="col-sm-6 mb-3">
                <h4>Presupuesto {{project.name}}</h4>
            </div>
            <div class="col-sm-6 mb-3 text-sm-right">
                <button size="small" nbButton hero outline shape="semi-round" (click)="return()">
                    <nb-icon [icon]="'arrow-back'" pack="eva"></nb-icon>
                    <span class="d-none d-md-block text-dark">Regresar</span>
                </button>
            </div>
            <div class="col-sm-12 mb-3 text-sm-right">
                <button nbButton hero status="primary" shape="semi-round" class="mr-2"
                [routerLink]="['/pages/projects', budget[0]._id, 'paymentList']">
                <nb-icon class="text-white" [icon]="'diagonal-arrow-left-down-outline'" pack="eva"></nb-icon>
                <span class="d-none d-md-block text-white">Ingresos</span>
            </button>
            <button nbButton hero status="primary" shape="semi-round"
                [routerLink]="['/pages/projects', budget[0]._id, 'payment']">
                <nb-icon class="text-white" [icon]="'diagonal-arrow-right-up-outline'" pack="eva"></nb-icon>
                <span class="d-none d-md-block text-white">Egresos</span>
            </button>
            </div>

            <div class="col-sm-6">
                <nb-card status="primary">
                    <nb-card-header>
                        <div class="col-sm-6">
                            <span><strong>Cliente</strong></span>
                        </div>
                    </nb-card-header>
                    <nb-card-body>
                        <div class="col-sm-12">
                            <span>Nombre y Apellido: {{project.client.fullName}}</span><br>
                            <span>Razón Social: {{project.client.businessName}}</span><br>
                            <span>Celular: {{project.client.phone}}</span><br>
                            <span>E-mail: {{project.client.email}}</span>
                        </div>
                    </nb-card-body>
                </nb-card>
            </div>
            <div class="col-sm-6">
                <nb-card status="primary">
                    <nb-card-header>
                        <div class="col-sm-">
                            <span class="mr-4"><strong>Proyecto</strong></span>
                        </div>
                        <div class="col-sm-4">
                        </div>
                    </nb-card-header>
                    <nb-card-body class="card-border-oval">
                        <div class="col-sm-12">
                            <span>{{project.typeProject}} - {{project.type}}</span><br>
                            <span>Ubicación: {{project.province}} - {{project.city}}</span><br>
                            <span>Inicio de Obra: {{project.startDate | date: 'dd/MM/yyyy'}}</span><br>
                            <span>Plazo de Obra: {{project.termDays}} días</span>
                        </div>
                    </nb-card-body>
                </nb-card>
            </div>

        </div>
    </div>

    <nb-tabset class="tabset-limit">
        <nb-tab tabTitle="Profesionales y Otros">
            <ngx-budget-professionals [budget]=budget></ngx-budget-professionals>
        </nb-tab>
        <nb-tab tabTitle="Soporte de Obra">
            <ngx-budget-construction-support [budget]=budget></ngx-budget-construction-support>
        </nb-tab>
        <nb-tab tabTitle="Mano de Obra">
            <ngx-budget-man-power [budget]=budget></ngx-budget-man-power>
        </nb-tab>
        <nb-tab tabTitle="Materiales Gruesos">
            <ngx-budget-thick-material [budget]=budget></ngx-budget-thick-material>
        </nb-tab>
        <nb-tab tabTitle="Materiales de Instalaciones">
            <ngx-budget-installation-material [budget]=budget></ngx-budget-installation-material>
        </nb-tab>
        <nb-tab tabTitle=" Materiales de Terminación">
            <ngx-budget-termination-material [budget]=budget></ngx-budget-termination-material>
        </nb-tab>
        <nb-tab tabTitle=" ArqInm SRL">
            <ngx-budget-arqinm [budget]=budget></ngx-budget-arqinm>
        </nb-tab>
    </nb-tabset>

    <div class="col-sm-12">
        <nb-card status="primary">
            <nb-card-header>
                <div class="col-sm-12">
                    <span><strong>Valores detallados</strong></span>
                </div>
            </nb-card-header>
            <nb-card-body>
                <div>
                    <span><strong>Profesionales y Otros</strong></span><br>
                    <div class="text-sm-right">
                        <span>Sub Total: $ {{budget[0].totalCostProfessional}}</span>
                    </div>
                    <hr>
                    <span><strong>Soporte de Obra</strong></span><br>
                    <div class="text-sm-right">
                        <span>Sub Total: $ {{budget[0].totalCostConstructionSupport}}</span>
                    </div>
                    <strong>
                        <hr>
                    </strong>
                    <span><strong>Mano de Obra</strong></span><br>
                    <div class="text-sm-right">
                        <div *ngFor="let cost of budget[0].arrayCostsManPower; let i = index;">
                            <small>{{budget[0].arrayManPowers[i]}}: $ {{cost}}</small>
                        </div>
                        <br>
                        <span>Sub Total: $ {{budget[0].totalCostManPower}}</span>
                    </div>
                    <hr>
                    <span><strong>Materiales Gruesos</strong></span><br>
                    <div class="text-sm-right">
                        <div *ngFor="let cost of budget[0].arrayCostsThickMaterial; let i = index;">
                            <small>{{budget[0].arrayThickMaterial[i]}}: $ {{cost}}</small>
                        </div>
                        <br>
                        <span>Sub Total: $ {{budget[0].totalCostThickMaterial}}</span>
                    </div>
                    <hr>
                    <span><strong>Materiales de Instalación</strong></span><br>
                    <div class="text-sm-right">
                        <div *ngFor="let cost of budget[0].arrayCostsInstallationMaterial; let i = index;">
                            <small>{{budget[0].arrayInstallationMaterial[i]}}: $ {{cost}}</small>
                        </div>
                        <br>
                        <span>Sub Total: $ {{budget[0].totalCostInstallationMaterial}}</span>
                    </div>
                    <hr>
                    <span><strong>Materiales de Terminación</strong></span><br>
                    <div class="text-sm-right">
                        <div *ngFor="let cost of budget[0].arrayCostsTerminationMaterial; let i = index;">
                            <small>{{budget[0].arrayTerminationMaterial[i]}}: $ {{cost}}</small>
                        </div>
                        <br>
                        <span>Sub Total: $ {{budget[0].totalCostTerminationMaterial}}</span>
                    </div>
                    <hr>
                    <span><strong>ArqInm SRL</strong></span><br>
                    <div class="text-sm-right">
                        <span>Sub Total: $ {{budget[0].totalCostArqInm}}</span>
                    </div>
                    <!-- <div class="col-sm-4">
                        <nb-card status="primary">
                            <nb-card-header>
                                <span><strong>Profesionales y Otros</strong></span>
                            </nb-card-header>
                            <nb-card-body class="text-right">
                                <span>$ {{budget[0].totalCostProfessional}}</span>
                            </nb-card-body>
                        </nb-card>
                    </div>
                    <div class="col-sm-4">
                        <nb-card status="primary">
                            <nb-card-header>
                                <span><strong>Soporte de Obra</strong></span>
                            </nb-card-header>
                            <nb-card-body class="text-right">
                                <span>$ {{budget[0].totalCostConstructionSupport}}</span>
                            </nb-card-body>
                        </nb-card>
                    </div>
                    <div class="col-sm-4">
                        <nb-card status="primary">
                            <nb-card-header>
                                <span><strong>Mano de Obra</strong></span>
                            </nb-card-header>
                            <nb-card-body *ngIf="budget[0].arrayCostsManPower.length > 0" class="text-right">
                                <div *ngFor="let cost of budget[0].arrayCostsManPower; let i = index;">
                                    <small>{{budget[0].arrayManPowers[i]}}: $ {{cost}}</small>
                                </div>
                                <hr>
                            </nb-card-body>
                            <nb-card-footer class="text-right">
                                <span>$ {{budget[0].totalCostManPower}}</span>
                            </nb-card-footer>
                        </nb-card>
                    </div>
                    <div class="col-sm-4">
                        <nb-card status="primary">
                            <nb-card-header>
                                <span><strong>Materiales Gruesos</strong></span>
                            </nb-card-header>
                            <nb-card-body *ngIf="budget[0].arrayCostsThickMaterial.length > 0" class="text-right">
                                <div *ngFor="let cost of budget[0].arrayCostsThickMaterial; let i = index;">
                                    <small>{{budget[0].arrayThickMaterial[i]}}: $ {{cost}}</small>
                                </div>
                                <hr>
                            </nb-card-body>
                            <nb-card-footer class="text-right">
                                <span>$ {{budget[0].totalCostThickMaterial}}</span>
                            </nb-card-footer>
                        </nb-card>
                    </div> -->
                    <!-- <div class="col-sm-4">
                        <nb-card status="primary">
                            <nb-card-header>
                                <span><strong>Materiales de Instalación</strong></span>
                            </nb-card-header>
                            <nb-card-body *ngIf="budget[0].arrayCostsInstallationMaterial.length > 0" class="text-right">
                                <div *ngFor="let cost of budget[0].arrayCostsInstallationMaterial; let i = index;">
                                    <small>{{budget[0].arrayInstallationMaterial[i]}}: $ {{cost}}</small>
                                </div>
                                <hr>
                            </nb-card-body>
                            <nb-card-footer class="text-right">
                                <span>$ {{budget[0].totalCostInstallationMaterial}}</span>
                            </nb-card-footer>
                        </nb-card>
                    </div>
                    <div class="col-sm-4">
                        <nb-card status="primary">
                            <nb-card-header>
                                <span><strong>Materiales de Terminación</strong></span>
                            </nb-card-header>
                            <nb-card-body *ngIf="budget[0].arrayCostsTerminationMaterial.length > 0" class="text-right">
                                <div *ngFor="let cost of budget[0].arrayCostsTerminationMaterial; let i = index;">
                                    <small>{{budget[0].arrayTerminationMaterial[i]}}: $ {{cost}}</small>
                                </div>
                                <hr>
                            </nb-card-body>
                            <nb-card-footer class="text-right">
                                <span>$ {{budget[0].totalCostTerminationMaterial}}</span>
                            </nb-card-footer>
                        </nb-card>
                    </div> -->
                </div>
            </nb-card-body>
            <nb-card-footer class="text-sm-right">
                <hr>
                <span><strong>Total: $ {{budget[0].totalCost}}</strong></span><br>
            </nb-card-footer>
        </nb-card>
    </div>

</div>